{"ast":null,"code":"var _jsxFileName = \"/Users/Braydon/Desktop/CSE 120/wdc_talent_review_application/PROTOTYPE_ONE/react-flask-att/src/components/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, Button, FormControl, InputLabel, Select, MenuItem, Container, Paper, Typography } from '@mui/material';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction RegistrationForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    pw: '',\n    first_name: '',\n    last_name: '',\n    confirm_pw: '',\n    role: '',\n    isLogin: false\n  });\n  const navigate = useNavigate();\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const {\n    login\n  } = useAuth();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const endpoint = formData.isLogin ? '/user/login' : '/user/create';\n    try {\n      const response = await axios.post(`http://127.0.0.1:5000${endpoint}`, formData);\n      if (response.data.access_token) {\n        login(response.data.access_token, response.data.role);\n        navigate('/dashboard');\n      }\n    } catch (error) {\n      console.error('Error:', error.response ? error.response.data : 'Error during the request');\n    }\n  };\n  const toggleForm = () => {\n    setFormData({\n      ...formData,\n      isLogin: !formData.isLogin\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: {\n        padding: 20,\n        marginTop: '20vh'\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: formData.isLogin ? 'Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          type: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          fullWidth: true,\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          type: \"password\",\n          name: \"pw\",\n          value: formData.pw,\n          onChange: handleChange,\n          fullWidth: true,\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), !formData.isLogin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"First Name\",\n            type: \"text\",\n            name: \"first_name\",\n            value: formData.first_name,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Last Name\",\n            type: \"text\",\n            name: \"last_name\",\n            value: formData.last_name,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Confirm Password\",\n            type: \"password\",\n            name: \"confirm_pw\",\n            value: formData.confirm_pw,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"role\",\n              value: formData.role,\n              onChange: handleChange,\n              label: \"Role\",\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Nominator\",\n                children: \"Nominator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Recommender\",\n                children: \"Recommender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Review Committee\",\n                children: \"Review Committee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          sx: {\n            mt: 2\n          },\n          children: formData.isLogin ? 'Login' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"text\",\n          onClick: toggleForm,\n          fullWidth: true,\n          sx: {\n            mt: 1\n          },\n          children: formData.isLogin ? 'Switch to Register' : 'Switch to Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(RegistrationForm, \"cF6I0Sc4q/EFMcMZl5pqOjbX408=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = RegistrationForm;\nexport default RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["React","useState","axios","useNavigate","TextField","Button","FormControl","InputLabel","Select","MenuItem","Container","Paper","Typography","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","RegistrationForm","_s","formData","setFormData","email","pw","first_name","last_name","confirm_pw","role","isLogin","navigate","handleChange","e","target","name","value","login","handleSubmit","preventDefault","endpoint","response","post","data","access_token","error","console","toggleForm","component","maxWidth","children","elevation","style","padding","marginTop","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","type","onChange","fullWidth","margin","color","sx","mt","onClick","_c","$RefreshReg$"],"sources":["/Users/Braydon/Desktop/CSE 120/wdc_talent_review_application/PROTOTYPE_ONE/react-flask-att/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, Button, FormControl, InputLabel, Select, MenuItem, Container, Paper, Typography } from '@mui/material';\nimport { useAuth } from './AuthContext';\n\nfunction RegistrationForm() {\n  const [formData, setFormData] = useState({\n    email: '',\n    pw: '',\n    first_name: '',\n    last_name: '',\n    confirm_pw: '',\n    role: '',\n    isLogin: false\n  });\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const { login } = useAuth();\n\n  const handleSubmit = async (e) => {\n      e.preventDefault();\n      const endpoint = formData.isLogin ? '/user/login' : '/user/create';\n      try {\n          const response = await axios.post(`http://127.0.0.1:5000${endpoint}`, formData);\n          if (response.data.access_token) {\n              login(response.data.access_token, response.data.role);\n              navigate('/dashboard');\n          }\n      } catch (error) {\n          console.error('Error:', error.response ? error.response.data : 'Error during the request');\n      }\n  };\n\n  const toggleForm = () => {\n    setFormData({\n      ...formData,\n      isLogin: !formData.isLogin\n    });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper elevation={3} style={{ padding: 20, marginTop: '20vh' }}> {/* Added Paper and style for centering */}\n        <Typography variant=\"h5\" component=\"h1\" gutterBottom>\n          {formData.isLogin ? 'Login' : 'Register'}\n        </Typography>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            name=\"pw\"\n            value={formData.pw}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n          />\n          {!formData.isLogin && (\n            <>\n              <TextField\n                label=\"First Name\"\n                type=\"text\"\n                name=\"first_name\"\n                value={formData.first_name}\n                onChange={handleChange}\n                fullWidth\n                margin=\"normal\"\n              />\n              <TextField\n                label=\"Last Name\"\n                type=\"text\"\n                name=\"last_name\"\n                value={formData.last_name}\n                onChange={handleChange}\n                fullWidth\n                margin=\"normal\"\n              />\n              <TextField\n                label=\"Confirm Password\"\n                type=\"password\"\n                name=\"confirm_pw\"\n                value={formData.confirm_pw}\n                onChange={handleChange}\n                fullWidth\n                margin=\"normal\"\n              />\n              <FormControl fullWidth margin=\"normal\">\n                <InputLabel>Role</InputLabel>\n                <Select\n                  name=\"role\"\n                  value={formData.role}\n                  onChange={handleChange}\n                  label=\"Role\"\n                >\n                  <MenuItem value=\"Nominator\">Nominator</MenuItem>\n                  <MenuItem value=\"Recommender\">Recommender</MenuItem>\n                  <MenuItem value=\"Review Committee\">Review Committee</MenuItem>\n                </Select>\n              </FormControl>\n            </>\n          )}\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth sx={{ mt: 2 }}>\n            {formData.isLogin ? 'Login' : 'Register'}\n          </Button>\n          <Button variant=\"text\" onClick={toggleForm} fullWidth sx={{ mt: 1 }}>\n            {formData.isLogin ? 'Switch to Register' : 'Switch to Login'}\n          </Button>\n        </form>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default RegistrationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}