{"ast":null,"code":"var _jsxFileName = \"/Users/Braydon/Desktop/CSE 120/wdc_talent_review_application/PROTOTYPE_ONE/react-flask-att/src/components/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, Button, FormControl, InputLabel, Select, MenuItem, Container, Paper, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction RegistrationForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    pw: '',\n    first_name: '',\n    last_name: '',\n    confirm_pw: '',\n    role: '',\n    isLogin: false\n  });\n  const navigate = useNavigate();\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const endpoint = formData.isLogin ? '/user/login' : '/user/create';\n    try {\n      const response = await axios.post(`http://127.0.0.1:5000${endpoint}`, formData);\n      if (response.data.access_token) {\n        // Store the token and user role in localStorage\n        localStorage.setItem('authToken', response.data.access_token);\n        localStorage.setItem('userRole', response.data.role); // Save the user's role\n        console.log(response.data);\n        navigate('/dashboard');\n      }\n    } catch (error) {\n      console.error('Error:', error.response ? error.response.data : 'Error during the request');\n    }\n  };\n  const toggleForm = () => {\n    setFormData({\n      ...formData,\n      isLogin: !formData.isLogin\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: {\n        padding: 20,\n        marginTop: '20vh'\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: formData.isLogin ? 'Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          type: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          fullWidth: true,\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          type: \"password\",\n          name: \"pw\",\n          value: formData.pw,\n          onChange: handleChange,\n          fullWidth: true,\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), !formData.isLogin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"First Name\",\n            type: \"text\",\n            name: \"first_name\",\n            value: formData.first_name,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Last Name\",\n            type: \"text\",\n            name: \"last_name\",\n            value: formData.last_name,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Confirm Password\",\n            type: \"password\",\n            name: \"confirm_pw\",\n            value: formData.confirm_pw,\n            onChange: handleChange,\n            fullWidth: true,\n            margin: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"role\",\n              value: formData.role,\n              onChange: handleChange,\n              label: \"Role\",\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Nominator\",\n                children: \"Nominator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Recommender\",\n                children: \"Recommender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Review Committee\",\n                children: \"Review Committee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          sx: {\n            mt: 2\n          },\n          children: formData.isLogin ? 'Login' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"text\",\n          onClick: toggleForm,\n          fullWidth: true,\n          sx: {\n            mt: 1\n          },\n          children: formData.isLogin ? 'Switch to Register' : 'Switch to Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(RegistrationForm, \"TxwwcZ0CFlCMyBjS/TwZug1QC2c=\", false, function () {\n  return [useNavigate];\n});\n_c = RegistrationForm;\nexport default RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["React","useState","axios","useNavigate","TextField","Button","FormControl","InputLabel","Select","MenuItem","Container","Paper","Typography","jsxDEV","_jsxDEV","Fragment","_Fragment","RegistrationForm","_s","formData","setFormData","email","pw","first_name","last_name","confirm_pw","role","isLogin","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","endpoint","response","post","data","access_token","localStorage","setItem","console","log","error","toggleForm","component","maxWidth","children","elevation","style","padding","marginTop","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","type","onChange","fullWidth","margin","color","sx","mt","onClick","_c","$RefreshReg$"],"sources":["/Users/Braydon/Desktop/CSE 120/wdc_talent_review_application/PROTOTYPE_ONE/react-flask-att/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { TextField, Button, FormControl, InputLabel, Select, MenuItem, Container, Paper, Typography } from '@mui/material';\n\nfunction RegistrationForm() {\n  const [formData, setFormData] = useState({\n    email: '',\n    pw: '',\n    first_name: '',\n    last_name: '',\n    confirm_pw: '',\n    role: '',\n    isLogin: false\n  });\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const endpoint = formData.isLogin ? '/user/login' : '/user/create';\n    try {\n      const response = await axios.post(`http://127.0.0.1:5000${endpoint}`, formData);\n      if (response.data.access_token) {\n        // Store the token and user role in localStorage\n        localStorage.setItem('authToken', response.data.access_token);\n        localStorage.setItem('userRole', response.data.role);  // Save the user's role\n        console.log(response.data);\n        navigate('/dashboard');\n      }\n    } catch (error) {\n      console.error('Error:', error.response ? error.response.data : 'Error during the request');\n    }\n  };\n\n  const toggleForm = () => {\n    setFormData({\n      ...formData,\n      isLogin: !formData.isLogin\n    });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper elevation={3} style={{ padding: 20, marginTop: '20vh' }}> {/* Added Paper and style for centering */}\n        <Typography variant=\"h5\" component=\"h1\" gutterBottom>\n          {formData.isLogin ? 'Login' : 'Register'}\n        </Typography>\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            name=\"pw\"\n            value={formData.pw}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n          />\n          {!formData.isLogin && (\n            <>\n              <TextField\n                label=\"First Name\"\n                type=\"text\"\n                name=\"first_name\"\n                value={formData.first_name}\n                onChange={handleChange}\n                fullWidth\n                margin=\"normal\"\n              />\n              <TextField\n                label=\"Last Name\"\n                type=\"text\"\n                name=\"last_name\"\n                value={formData.last_name}\n                onChange={handleChange}\n                fullWidth\n                margin=\"normal\"\n              />\n              <TextField\n                label=\"Confirm Password\"\n                type=\"password\"\n                name=\"confirm_pw\"\n                value={formData.confirm_pw}\n                onChange={handleChange}\n                fullWidth\n                margin=\"normal\"\n              />\n              <FormControl fullWidth margin=\"normal\">\n                <InputLabel>Role</InputLabel>\n                <Select\n                  name=\"role\"\n                  value={formData.role}\n                  onChange={handleChange}\n                  label=\"Role\"\n                >\n                  <MenuItem value=\"Nominator\">Nominator</MenuItem>\n                  <MenuItem value=\"Recommender\">Recommender</MenuItem>\n                  <MenuItem value=\"Review Committee\">Review Committee</MenuItem>\n                </Select>\n              </FormControl>\n            </>\n          )}\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth sx={{ mt: 2 }}>\n            {formData.isLogin ? 'Login' : 'Register'}\n          </Button>\n          <Button variant=\"text\" onClick={toggleForm} fullWidth sx={{ mt: 1 }}>\n            {formData.isLogin ? 'Switch to Register' : 'Switch to Login'}\n          </Button>\n        </form>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default RegistrationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}